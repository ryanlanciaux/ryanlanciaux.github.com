{"data":{"site":{"siteMetadata":{"title":"Ryan Lanciaux","author":"Ryan Lanciaux"}},"markdownRemark":{"id":"12fdc998-59d5-5749-9d34-483d8d64008b","excerpt":"Storybook is awesome for building components I use  Storybook  quite frequently for building component libraries. Additionally, I will often use things like…","html":"<h2>Storybook is awesome for building components</h2>\n<p>I use <a href=\"https://storybook.js.org/\">Storybook</a> quite frequently for building component libraries. Additionally, I will often use things like <a href=\"https://www.styled-components.com/\">styled components</a> or <a href=\"https://emotion.sh/docs/introduction\">Emotion</a> to style my components and give them a consistent theme.</p>\n<p>Traditionally when using a theme, you need to wrap your components in a <a href=\"https://www.styled-components.com/docs/advanced\">ThemeProvider</a>. We can wrap <strong>all</strong> our stories in a ThemeProvder by using a <a href=\"https://storybook.js.org/docs/basics/writing-stories/#using-decorators\">Storybook Decorator</a>.</p>\n<p>We will start by creating a new decorator. In my projects I keep this alongside the storybook config but that is not necessary.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ThemeProvider<span class=\"token punctuation\">,</span> theme <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./pathToThemeProvider\"</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">ThemeDecorator</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">storyFn</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>ThemeProvider theme<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>theme<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token function\">storyFn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ThemeProvider<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> ThemeDecorator</code></pre></div>\n<p>Here we are including our custom theme provider and defining a component that receives a <code class=\"language-text\">storyFn</code> as a prop. This <code class=\"language-text\">storyFn</code> is basically where the Storybook content will be rendered. We wrap the Storybook content in our provider and export our decorator.</p>\n<p>Next in our project’s <code class=\"language-text\">.storybook/config.js</code> we need to specify that Storybook should use this decorator for all stories.</p>\n<p>We’ll start by importing our newly created decorator and make sure that we’re using the <code class=\"language-text\">addDecorator</code> method from Storybook.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> configure<span class=\"token punctuation\">,</span> addDecorator <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@storybook/react\"</span>\n<span class=\"token keyword\">import</span> themeDecorator <span class=\"token keyword\">from</span> <span class=\"token string\">\"./themeDecorator\"</span></code></pre></div>\n<p>Next, we’ll want to call the following to apply our decorator.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">addDecorator(themeDecorator);</code></pre></div>\n<p>Storybook should now be wrapping all stories with a custom decorator. This article mostly mentioned CSS-in-JS themes but this strategy also works with other areas where a provider is needed such as Redux.</p>","frontmatter":{"title":"Use a Provider component in Storybook","date":"August 20, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/2019/08/20/use-provider-in-storybook/","previous":{"fields":{"slug":"/blog/2019/08/19/ignoring-files-in-git/"},"frontmatter":{"title":"Ignoring files in git"}},"next":null}}