{"data":{"site":{"siteMetadata":{"title":"Ryan Lanciaux","author":"Ryan Lanciaux"}},"markdownRemark":{"id":"48cf51b3-9450-534d-96b0-a127ee56f76a","excerpt":"Coming from the .NET world, I’ve grown accustomed to great debugging tools. My initial Node setup didn’t have a very good way to debug an application (outside…","html":"<p>Coming from the .NET world, I’ve grown accustomed to great debugging tools. My initial Node setup didn’t have a very good way to debug an application (outside of using <code class=\"language-text\">DEBUG=express:* node .bin/www</code>) and I wanted to resolve that. I had heard about <a href=\"https://github.com/node-inspector/node-inspector\">node-inspector</a> in several places and decided to give that a shot. </p>\n<p>Node-inspector is a visual interface for the Node debugger that looks like just Chrome Developer Tools for Chrome / Opera. I use the Developer Tools quite frequently for debugging front-end code so it is a natural fit for my work-flow.</p>\n\n  <a class=\"gatsby-resp-image-link\" href=\"/static/56c09a8db60f16b085ced7635f98f73d/2f8d1/node-inspector.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 37.615894039735096%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7CAAAOwgEVKEqAAAABL0lEQVQoz5XSiU7CQBCA4b7/o0CAqK+gQWtFkEONVwsFem2PpUKhtr9bFRVjgk7yZXZnJ5PsZjVv7jKzp0i5YLVcMrq+4eDwiFqtRr1ef9NoNGi1WjSbzb0007KY2Dae5zObzlT2EEIQhiFxnBBFEWn6TJatWa0yVtmXLNvdV7Sx+YBtPRGFAcJ3VRb4nkMofFx3roYKFjIiiQIStd5H6/Ul5x2PY31MuzOlY9gYiq5PMHSLE92mM4o56/oYg5CroaQ3kLS7LqeXnjqLuBiGGH1B91aixSnqehvMseDu3uFRscwAx1kgk5x4UVL1bCUf4l9UdQ0KKF9IPIGMI/JNRlnkqCK7Uf7wW61Ey/OcoijY5s+2slL+myaCUD26ZKm+TJqmBH7Aer15H/yt8a/xCl6pWF3qfN84AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"node inspector\" title src=\"/static/56c09a8db60f16b085ced7635f98f73d/b9e4f/node-inspector.png\" srcset=\"/static/56c09a8db60f16b085ced7635f98f73d/cf440/node-inspector.png 148w,\n/static/56c09a8db60f16b085ced7635f98f73d/d2d38/node-inspector.png 295w,\n/static/56c09a8db60f16b085ced7635f98f73d/b9e4f/node-inspector.png 590w,\n/static/56c09a8db60f16b085ced7635f98f73d/2f8d1/node-inspector.png 755w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n<h2>Setup</h2>\n<p>The guide on <a href=\"https://github.com/node-inspector/node-inspector\">the github page for node-inspector</a> is pretty good but I wanted to run through how I’m using it on my Express 4 application.</p>\n<p>First, like the guides suggest, I ran <code class=\"language-text\">npm install -g node-inspector</code>. From there, I tried running the application (<code class=\"language-text\">node --debug ./bin/www</code>) and then running <code class=\"language-text\">node-debug</code>. Unfortunately, I mixed up node-debug and node-inspector a little bit and the inspector was throwing an <code class=\"language-text\">EADDRINUSE</code> error. Thankfully, <a href=\"http://peterlyons.com/\">Peter Lyons</a> quickly answered <a href=\"http://stackoverflow.com/questions/23797931/node-inspector-with-express-4\">a question I put on StackOverflow</a> which straightened out the issue I was encountering. Apparently, you either want to use <code class=\"language-text\">node --debug ___</code> and <code class=\"language-text\">node-inspector</code> or just <code class=\"language-text\">node-debug ____</code> — using <code class=\"language-text\">node --debug _____.js</code> with the inspector’s <code class=\"language-text\">node-debug</code> option was causing conflicts as both were starting node’s debugger. </p>\n<p>Starting the application with <code class=\"language-text\">node --debug ./bin/www</code> followed by <code class=\"language-text\">node-inspector</code> (in another terminal) worked painlessly. I could open up the inspector website (generally <code class=\"language-text\">localhost:8080/debug?port=5858</code>) and set breakpoints. When navigating through my node application, the code execution was stopping at the breakpoint and I could debug from there using the standard Chrome Developer tools. </p>\n<h2>Forever</h2>\n<p>One final thing I wanted to do is get all this working with Forever as it would be nice to be able to make changes to my code with out needing to restart the node server. I have encountered some weirdness with forever and node-inspector but it does seem to work okay. Starting forever generally doesn’t fire up the debugger. After some searching, I came across <a href=\"http://stackoverflow.com/questions/12819268/node-js-debugging-with-node-inspector-and-forever-js\">this StackOverflow post</a> that suggests you have to run a custom command to start forever in debug mode <code class=\"language-text\">forever -w -c &#39;node --debug&#39; ./bin/www</code>. From there, I could navigate to both the site I was trying to debug and the inspector page and all seemed to work. </p>","frontmatter":{"title":"Debugging Express Applications","date":"May 25, 2014","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog/2014/05/25/debugging-express-applications/","previous":{"fields":{"slug":"/blog/2014/05/15/running-ssh-agent-on-windows/"},"frontmatter":{"title":"Running ssh-agent on Windows","page":null}},"next":{"fields":{"slug":"/blog/2014/05/26/trying-out-reactjs-with-the-marvel-api/"},"frontmatter":{"title":"Trying out ReactJS with the Marvel API","page":null}}}}